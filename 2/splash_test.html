<!DOCTYPE html>
<html lang="tr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Splash Test - Ã‡eyiz Defteri</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            font-family: Arial, sans-serif;
            background: #f5f5f5;
        }

        .status {
            margin: 10px 0;
            padding: 15px;
            border-radius: 8px;
            font-size: 14px;
        }

        .success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .info {
            background: #d1ecf1;
            color: #0c5460;
            border: 1px solid #bee5eb;
        }

        h1 {
            color: #333;
        }

        iframe {
            width: 100%;
            height: 600px;
            border: 2px solid #ddd;
            border-radius: 8px;
            margin-top: 20px;
        }

        .btn {
            padding: 10px 20px;
            background: #007bff;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }

        .btn:hover {
            background: #0056b3;
        }
    </style>
</head>

<body>
    <h1>ğŸ” Ã‡eyiz Defteri - Splash Ekran Test</h1>

    <div class="status info">
        <strong>Test BaÅŸlatÄ±lÄ±yor...</strong><br>
        LÃ¼tfen bekleyin, splash ekranÄ± yÃ¼kleniyor.
    </div>

    <div id="test-results"></div>

    <button class="btn" onclick="reloadApp()">ğŸ”„ UygulamayÄ± Yeniden YÃ¼kle</button>
    <button class="btn" onclick="location.href='index.html'" style="background: #28a745;">ğŸš€ Ana UygulamayÄ± AÃ§</button>

    <iframe id="app-frame" src="index.html"></iframe>

    <script>
        const resultsDiv = document.getElementById('test-results');
        const frame = document.getElementById('app-frame');

        function reloadApp() {
            frame.src = 'index.html?t=' + Date.now();
        }

        // Wait for iframe to load
        frame.onload = function () {
            setTimeout(checkSplash, 500);
        };

        function checkSplash() {
            resultsDiv.innerHTML = '';

            try {
                const iframeDoc = frame.contentDocument || frame.contentWindow.document;
                const splash = iframeDoc.getElementById('splash-screen');

                if (!splash) {
                    addResult('error', 'âŒ HATA: Splash ekran elementi bulunamadÄ±!');
                    return;
                }

                const styles = window.getComputedStyle(splash);
                const display = styles.display;
                const visibility = styles.visibility;
                const opacity = styles.opacity;
                const zIndex = styles.zIndex;

                addResult('info', `Display: ${display}`);
                addResult('info', `Visibility: ${visibility}`);
                addResult('info', `Opacity: ${opacity}`);
                addResult('info', `Z-Index: ${zIndex}`);
                addResult('info', `Class: ${splash.className}`);

                if (display === 'none') {
                    addResult('error', 'âŒ SORUN: Splash ekran "display: none" ile gizli!');
                } else if (display === 'flex' || display === 'block') {
                    addResult('success', 'âœ… BAÅARILI: Splash ekran gÃ¶rÃ¼nÃ¼r durumda!');

                    // Check if it has correct class
                    if (splash.classList.contains('ethereal-splash')) {
                        addResult('success', 'âœ… CSS Class doÄŸru (ethereal-splash)');
                    } else {
                        addResult('error', 'âš ï¸ UYARI: ethereal-splash class\'Ä± eksik!');
                    }
                } else {
                    addResult('error', `âš ï¸ Beklenmeyen display deÄŸeri: ${display}`);
                }

                // Check if app.js is loaded
                const scripts = iframeDoc.querySelectorAll('script[src]');
                let appJsLoaded = false;
                scripts.forEach(s => {
                    if (s.src.includes('app.js')) {
                        appJsLoaded = true;
                    }
                });

                if (appJsLoaded) {
                    addResult('success', 'âœ… app.js yÃ¼klendi');
                } else {
                    addResult('error', 'âŒ app.js yÃ¼klenmedi');
                }

            } catch (error) {
                addResult('error', 'âŒ Test hatasÄ±: ' + error.message);
            }
        }

        function addResult(type, message) {
            const div = document.createElement('div');
            div.className = 'status ' + type;
            div.textContent = message;
            resultsDiv.appendChild(div);
        }

        // Initial check after page load
        setTimeout(checkSplash, 1000);
    </script>
</body>

</html>